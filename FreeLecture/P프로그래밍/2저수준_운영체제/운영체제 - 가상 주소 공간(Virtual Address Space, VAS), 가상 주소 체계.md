#정보
# 1. 제목 :

# 2. 3줄 요약
- 1.
- 2.
- 3.
# 3. 이해를 위한 사전 지식(빌드업)
- 링크
# 4. 설명
프로세서는 메모리 위치를 읽거나 쓸 때 가상 주소를 사용.
이러한 작업 중에 프로세서는 가상 주소를 실제 주소로 변환함.

## 4.1. 장점

프로세서는 메모리 위치를 읽거나 쓸 때 가상 주소를 사용함. 다음과 같은 이점을 가짐.
- 프로그램은 연속된 범위의 가상 주소를 사용하여 실제 메모리의 크고 인접하지 않은 메모리 버퍼에 액세스 가능.
- 프로그램은 다양한 가상 주소를 사용하여 사용 가능한 실제 메모리보다 큰 메모리 버퍼에 액세스할 수 있음.
	- 실제 메모리가 부족하면 메모리 관리자는 실제 메모리 페이지(일반적으로 크기가 4KB)를 디스크 파일에 저장
	- 시스템은 필요에 따라 실제 메모리와 디스크 간에 데이터 또는 코드 페이지를 이동
- 서로 다른 프로세스에서 사용하는 가상 주소는 격리됨.
	- 한 프로세스의 코드는 다른 프로세스 또는 운영 체제에서 사용되는 실제 메모리를 변경할 수 없음
참고
- https://learn.microsoft.com/ko-kr/windows-hardware/drivers/gettingstarted/virtual-address-spaces
## 4.2. 정의

프로세스에서 사용할 수 있는 가상 주소 범위를 프로세스의 가상 주소 공간이라고 한다.
각 사용자 모드 프로세스 에는 고유한 프라이빗 가상 주소 공간이 있다.
참고
- https://learn.microsoft.com/ko-kr/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode

## 4.3. 예시
![[Pasted image 20250113213211.png]]
- 두 64비트 프로세스인 노트패드와 마이 앱이 실행되고 있음.
- 각 프로세스양쪽 가상 주소 공간에서는 0x000'00000000부터 시작해서 0x7FF'FFFFFFFF까지 고유한 가상 주소가 있음.
- 각 사각형 블록은 가상 메모리 혹은 실제 메모리의 한 페이지를 의미함. (4KB 크기)
	- [[운영체제 - 페이징 기법]] #추가조사필요 
- 가상 주소 페이지는 실제 메모리의 다른 페이지에 매핑됨. 따라서 가상 메모리 기준으로 연속적으로 보일지라도, 실제 물리적 주소 관점에서 바라본다면 인접하지 않은 페이지에 매핑됨.
	- 그림에서는 메모장 프로세스에서 0x7F7'93950000부터 3개의 연속된 가상 메모리 주소가 보이지만, 각각에는 실제 메모리 주소는 BC650000, B2BA5000, AFDA0000에 위치하고 있음.
		- 프로세스의 메모리의 일부분만 쪼개서 페이징을 하는가, 혹은 프로세스 메모리 전부를 쪼개서 페이징을 하는가?
			- 사실 아직까지 잘 모르겠음 #추가조사필요 
				- GPT / 퍼플렉시티 : 네 그럼요!
					- 그럼 증거를 갖고 오세요! : 사실 몰라요
					- 블로그 : 아직까지 발견된 언급 없음
				- 마이크로소프트 공식 문서 : 페이징 풀도 존재하지만 비페이징 풀도 존재합니다.
## 사용자 공간 및 시스템 공간
[[_미완)운영체제 - (Windows)사용자 공간 및 시스템 공간]]
[[_미완)운영체제 - (Windows)사용자 모드 및 커널 모드]]
- 프로세스는 사용자 모드에서 실행된다.
- 핵심 운영 체제 구성 요소와 많은 드라이버는 더 높은 권한의 커널 모드에서 실행됨.

- 사용자 공간
	- 각 사용자 모드 프로세스에는 고유한 프라이빗 가상 주소 공간이 있음.
	- 사용자 모드 프로세스의 가상 주소 공간을 부르는 말.
- 시스템 공간
	- 커널 모드에서 실행되는 모든 코드는 시스템 공간이라는 단일 가상 주소 공간을 공유한다.

32비트 Windows에서 사용 가능한 총 가상 주소 공간은 2^32바이트(4기가바이트)이다. 일반적으로 하위 2기가바이트는 사용자 공간에 사용되며 상위 2기가바이트는 시스템 공간에 사용된다.

## 예? 이런게 있다고요?) 페이징된 풀 및 비페이지 풀
- 추가 지식 필요
	- [[_미완)운영체제 - (Windows)사용자 공간 및 시스템 공간]]
사용자 공간
- 필요에 따라 "모든" 실제 메모리 페이지를 디스크 파일로 페이징할 수 있음.
시스템 공간
- 일부 실제 페이지를 페이징할 수 있고 다른 페이지는 페이징할 수 없음.
- 메모리를 동적으로 할당하기 위한 두 영역인 페이징 풀과 비페이지 풀이 있음.
	- 왜인가? #추가조사필요 
		- 페이징 하면 안되나?
			- 페이징을 하면 어떻게 되나
				- 페이징을 하면 연속적인 비트(명령어 코드나, 아니면 데이터를 담는 정보들)들이 쪼개짐
					- 혹시 페이징을 담당하는 코드가 메모리에 존재하는가? MMU에서 담당할려나?
					- 
		- A 운영체제의 일부는 페이징 될 수 있음
		- 

페이징 풀에 할당된 메모리는 필요에 따라 디스크 파일로 페이징할 수 있음.
페이지가 지정되지 않은 풀에 할당된 메모리는 디스크 파일로 페이징할 수 없음.



![[Pasted image 20250113215316.png]]

# 5. 추가 링크

## 5.1. 왜 이것이 작동 되는가?
- 링크
## 5.2. 이것은 어디에 활용되는가?
- 링크
## 5.3. 그 외 추가적인 정보
- 링크
	- 출처
		- 마이크로소프트 가상 주소 공간
		- https://learn.microsoft.com/ko-kr/windows-hardware/drivers/gettingstarted/virtual-address-spaces
		- 